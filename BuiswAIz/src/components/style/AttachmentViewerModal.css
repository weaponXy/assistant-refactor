/* Backdrop */
.avm-overlay {
  position: fixed; inset: 0;
  background: rgba(15,23,42,.55);
  backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
  z-index: 1200;
  animation: avm-fade .2s ease;
}

/* Modal */
.avm-modal {
  width: min(1000px, 96vw);
  max-height: 92vh;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 20px 50px rgba(0,0,0,.25);
  display: grid;
  grid-template-rows: auto 1fr auto auto;
  overflow: hidden;
}

/* Header */
.avm-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; border-bottom: 1px solid #e5e7eb;
}
.avm-title {
  font-weight: 600; color: #111827; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 80%;
}
.avm-icon {
  border: none; background: transparent; font-size: 18px; cursor: pointer; color: #6b7280;
}
.avm-icon:hover { color: #111827; }

/* Body (viewer area) */
.avm-body {
  position: relative;
  background: #0b1020;
  display: flex; align-items: center; justify-content: center;
  overflow: auto;
  padding: 8px;
}
.avm-media {
  max-width: 100%;
  max-height: 78vh;
  object-fit: contain; /* no cropping */
  transition: transform .15s ease;
  border-radius: 8px;
  user-select: none;
  pointer-events: none; /* prevent drag-ghosts while zoom changes; toggle if needed */
}
.avm-pdf {
  width: 100%;
  height: min(78vh, 900px);
  border: none;
  background: #fff;
}
.avm-generic {
  color: #e5e7eb; text-align: center;
}
.avm-file-icon { font-size: 42px; }
.avm-file-name { margin-top: 8px; color: #cbd5e1; }
.avm-download {
  display: inline-block; margin-top: 8px; padding: 6px 10px; border-radius: 8px;
  background: #0ea5e9; color: #fff; text-decoration: none;
}
.avm-download:hover { background: #0284c7; }

/* Toolbar */
.avm-toolbar {
  display: grid; grid-template-columns: 1fr auto 1fr;
  align-items: center; gap: 8px;
  padding: 8px 10px; border-top: 1px solid #e5e7eb; background: #f8fafc;
}
.avm-left, .avm-center, .avm-right { display: flex; align-items: center; gap: 8px; }
.avm-right { justify-content: flex-end; color: #6b7280; }
.avm-btn {
  border: 1px solid #e5e7eb; background: #fff; border-radius: 8px; padding: 6px 10px; cursor: pointer;
}
.avm-btn:hover { border-color: #cbd5e1; }
.avm-btn[disabled] { opacity: .5; cursor: not-allowed; }
.avm-zoom { min-width: 48px; text-align: center; }

/* Thumbnails */
.avm-thumbs {
  display: flex; gap: 8px; padding: 8px; overflow-x: auto; background: #f8fafc; border-top: 1px solid #e5e7eb;
}
.avm-thumb {
  width: 56px; height: 56px; border-radius: 10px; overflow: hidden; border: 2px solid transparent; padding: 0; cursor: pointer; background:#fff;
  display: inline-flex; align-items:center; justify-content:center;
}
.avm-thumb img { width: 100%; height: 100%; object-fit: cover; }
.avm-thumb .avm-thumb-badge { font-size: 11px; color: #111827; }
.avm-thumb.is-active { border-color: #0ea5e9; }

/* Animations */
@keyframes avm-fade { from { opacity: 0; } to { opacity: 1; } }

.avm-overlay { z-index: 2000; } /* higher than your other .modal overlays */
